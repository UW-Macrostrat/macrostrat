# 
# WARNING: DO NOT MODIFY THIS FILE.
# 
# This file has been auto-generated by install.pl. If you wish to override the attributes
# set in this file for various paths, repositories, etc., you can do so by editing
# setup.override.yml. If you wish to change the set of services managed by this
# project, you should run either 'pbdb update project' or 'macrostrat update project'.
# You will be prompted to choose a project configuration, and this file will then be
# regenerated from the template file config/docker-compose-template.yml.
# The corresponding file docker-compose-override.yml will also be regenerated, and your
# changes if any will be saved. If you wish to regenerate this file, you can run
# 'pbdb update setup' or 'macrostrat update setup'.
# 
# The following entries specify actions that must be taken to properly set up the file tree for the
# Paleobiology Database and/or Macrostrat services. The entries each have one of the following
# types:
# 
# repository            A Git repository that must be cloned from a remote repository
# dir                        A directory that must be created
# symlink                A symbolic link that must be set up

setup:
    
  # Paths required for nginx
  
  - type: dir
    path: certs
  - type: dir
    path: certs/challenge
  - type: dir
    path: logs/nginx
  
  
  # Static files for macrostrat
  
  - type: repository
    path: frontend/macrostrat
    origin: homepage.git
    component: macrostrat
    container: nginx
  - type: repository
    path: frontend/macrostrat/burwell
    origin: burwell-app.git
    component: macrostrat
    container: nginx
  - type: symlink
    path: frontend/macrostrat/map-raster
    target: burwell
    component: macrostrat
  - type: repository
    path: frontend/burwell-sources
    origin: burwell-sources.git
    component: macrostrat
    container: nginx
  - type: repository
    path: frontend/macrostrat/web-v3
    origin: web-v3.git
    component: macrostrat
    container: nginx
  - type: symlink
    path: frontend/macrostrat/map
    target: web-v3
  - type: symlink
    path: frontend/macrostrat/web-v3/sources
    target: ../../burwell-sources
  
  # Macrostrat utility programs
  
  - type: repository
    path: msutils
    origin: utils.git
    component: macrostrat
  
  # APIs for macrostrat
  
  - type: repository
    path: frontend/msapi
    origin: macrostrat-api.git
    component: macrostrat
    container: msapi
  - type: repository
    path: frontend/tileserver
    origin: tileserver.git
    component: macrostrat
    container: tileserver
  - type: dir
    path: logs/msapi
  
  # Static files for rockd
  
  - type: repository
    path: frontend/rockd-website
    origin: rockd-website.git
    component: rockd
    container: nginx
  
  # APIs for rockd
  
  - type: repository
    path: frontend/rockd
    origin: rockd.git
    component: rockd
    container: rockd
  - type: repository
    path: frontend/rockd-trips
    origin: rockd-trips.git
    component: rockd
    container: rockd
  - type: dir
    path: logs/rockd
  
  # Michigan basin website
  
  - type: repository
    path: frontend/mibasin
    origin: michigan-basin-fossils.git
    component: mibasin
    container: nginx,mibasin
  - type: dir
    path: logs/mibasin

  # PostgreSQL database server

  - type: repository
    path: postgresql
    origin: postgresql_component.git
    component: postgresql
    container: postgresql
  - type: dir
    path: logs/postgresql
# 
# Project setup entries for macrostrat
# 

