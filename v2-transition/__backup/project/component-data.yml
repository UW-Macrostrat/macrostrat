# 
# Paleomacro Project Data
# 
# This file should not be modified on a per-site basis. It is intended to provide defaults for the
# site configuration process. The actual site configuration is stored in config.yml and can be
# adjusted using the commands 'pbdb update project' or 'macrostrat update project'.
# 
# Instead of modifying this file for your site, you should put any necessary overrides into the file 
# project-data.override.yml.

component:

  nginx:
    label: Nginx
    path: frontend/nginx
    main_repo: 1
    is_webserver: 1
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:paleobiodb/nginx_component.git'

  mariadb:
    label: MariaDB
    path: mariadb
    is_database: 1
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:paleobiodb/mariadb_component.git'

  postgresql:
    label: PostgreSQL
    path: postgresql
    is_database: 1
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:UW-Macrostrat/postgresql_component.git'

  paleobiodb:
    label: Paleobiology Database
    path: frontend/pbdb-main
    requires: mariadb, nginx
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:paleobiodb/splash_page.git'
    images:
      - "pbapi"
      - "classic"
    website:
      main: paleobiodb.org
      dev: dev.paleobiodb.org
      training: training.paleobiodb.org
    workers:
      main:
        pbapi: 8
        classic: 5
        nginx: 8
      training:
        pbapi: 5
        classic: 5
        nginx: 5
      default:
        pbapi: 2
        classic: 2
        nginx: 2

  earthlife:
    label: Earthlife Consortium
    path: frontend/earthlife
    requires: nginx
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'https://github.com/EarthLifeConsortium/elc_api.git'
    website:
      main: earthlifeconsortium.org
      dev: dev.earthlifeconsortium.org
    workers:
      main:
        earthlife: 3
      default:
        earthlife: 2

  macrostrat:
    label: Macrostrat
    path: frontend/macrostrat
    requires: mariadb, postgresql, nginx
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:UW-Macrostrat/macrostrat_base.git'

  rockd:
    label: Rockd
    path: frontend/rockd
    requires: postgresql, nginx
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:UW-Macrostrat/rockd.git'
    website:
      main: rockd.org
      dev: dev.rockd.org

  mibasin:
    label: Michigan Basin Fossils
    path: frontend/mibasin
    requires: mariadb, nginx
    registry: 'registry.doit.wisc.edu/mmcclenn/paleobiodb-server'
    origin: 'git@github.com:UW-Macrostrat/michigan-basin-fossils.git'
    website:
      main: michiganbasinfossils.org
      dev: dev.michiganbasinfossils.org
    
component-order:
  - "nginx"
  - "mariadb"
  - "postgresql"
  - "paleobiodb"
  - "earthlife"
  - "macrostrat"
  - "rockd"
  - "mibasin"

main-choice:
  - label: Paleobiology Database
    main: paleobiodb
    optional: earthlife
  - label: Macrostrat
    main: macrostrat
    optional: rockd,mibasin
  - label: Paleobiology Database and Macrostrat together
    main: paleobiodb,macrostrat
    optional: earthlife,rockd,mibasin
  - label: Earthlife only
    main: earthlife
  - label: Rockd only
    main: rockd
  - label: Michigan Basin Fossils only
    main: mibasin


    
